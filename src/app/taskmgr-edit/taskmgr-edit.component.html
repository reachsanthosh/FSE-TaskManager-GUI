
<div class="container">  
    <div class="panel panel-primary">
        <div class="panel-heading">Update Task</div>
        <div class="panel-body">
    <form class="form-horizontal" #f="ngForm">
        <p class="alert alert-danger" *ngIf="showError">{{results}}</p>
      <div class="form-group">
        <label class="control-label col-sm-2" for="taskName">Task:</label>
        <div class="col-sm-4">
          <input type="text" class="form-control" id="taskName" name="taskName" 
           [(ngModel)]="taskDetails.taskname" required placeholder="Enter Task">
        </div>
      </div>
      <div class="form-group">
          <label class="control-label col-sm-2" for="taskpriority">Priority:(0-30)</label>      
          <div class="col-sm-4 slidecontainer">       
          <input type="range" min="1" max="30"
           [(ngModel)]="taskDetails.priority" required class="slider" id="rangePriority" name="rangePriority"></div>      
        </div>
        <div class="form-group">
            <label class="control-label col-sm-2" for="taskStartDate">Parent Task:</label>
            <div class="col-sm-4"> 
      
                <select class="form-control" id="parentTask" name="parentTask"   [(ngModel)]="taskDetails.parentId">
                    <option [ngValue]="null" selected>Please Select Parent Task</option>
                    <option *ngFor="let taskDetails of taskDetails" value = {{taskDetails.taskid}}>{{taskDetails.taskname}}</option>
                  </select>      
            </div>
          </div>   
      <div class="form-group">
        <label class="control-label col-sm-2" for="taskStartDate">Start Date:</label>
        <div class="col-sm-4"> 
          <input type="date" class="form-control" id="taskStartDate" 
          [ngModel]="taskDetails.startDate |date :'yyyy-MM-dd'"
           name = "taskStartDate" required placeholder="Enter start date"  [(ngModel)]="taskDetails.startDate">
        </div>
      </div>
      <div class="form-group">
        <label class="control-label col-sm-2" for="taskEndDate">End Date:</label>
        <div class="col-sm-4"> 
          <input type="date" class="form-control"  [ngModel]="taskDetails.endDate |date :'yyyy-MM-dd'"
           id="taskEndDate"
           name="taskEndDate" required placeholder="Enter end date" [(ngModel)]="taskDetails.endDate">
        </div>
      </div>
      <div class="form-group"> 
        <div class="col-sm-2"></div>
        <div class="col-sm-4">
          <button type="submit"  [disabled]="!f.valid" (click)="onUpdateTask()" class="btn btn-primary">Update</button> &nbsp;
          <button type="button" class="btn btn-warning"  (click)="onCancel()">Cancel</button>
        </div>
      </div>
  
      <button type="button" #showmodalClick  class="btn btn-info btn-lg" style="display: none;"
       id="showmodal" data-toggle="modal" data-target="#myModal">Open Modal</button>
  
  <!-- Modal -->
  <div id="myModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
  
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close"  (click) ="closeModal()" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Task Manager Alert</h4>
        </div>
        <div class="modal-body">
          <p><strong>{{this.results}}</strong></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" (click) ="closeModal()" data-dismiss="modal">Close</button>
        </div>
      </div>
  
    </div>
  </div>
    </form>
  </div>
</div>
  </div>